{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","images/close-button.svg","components/Button.js","components/PopupWithForm.js","components/ImagePopup.js","components/Input.js","components/Span.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeIconClassName","link","name","onClick","onCardClick","onCardDelete","onCardLike","currentUserId","length","Main","onEditProfile","onAddCard","onEditAvatar","cards","href","avatar","type","aria-label","about","map","item","Footer","Button","formName","btnName","PopupWithForm","isOpen","onClose","closeButton","title","onSubmit","children","ImagePopup","Input","count","placeholder","minLength","maxLength","onChange","value","id","required","Span","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","event","target","EditAvatarPopup","inputAvatar","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","onAddPlace","api","url","headers","this","result","ok","json","Promise","reject","fetch","then","getReply","method","body","JSON","stringify","cardId","like","authorization","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddCardPopupOpen","setIsAddCardPopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","isSelectedCardOpen","setSelectedCardOpen","setCurrentUser","setCards","handleCardClick","card","handleSelectedCardClick","closeAllPopup","mapCards","handleCardLike","onCardOpen","handleCardDelete","checkLikes","getInitialCards","res","deleteCard","newCards","filter","c","getPersonalInfo","catch","err","alert","Provider","createCard","newCard","data","setPersonalInfo","setAvatarInfo","formname","btnname","Object","keys","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ce49f142.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.c2821b38.svg\";","import logo from '../images/logo.svg';\r\n\r\nfunction Header() {\r\n    return (\r\n        <header className=\"header\">\r\n            <img src={logo} alt=\"Логотипчик\" className=\"header__logo\" />\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n\r\nexport const currentUser = {};","import React from 'react';\r\nimport { CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction Card({props}) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const isOwn = props.owner._id === currentUser._id;\r\n    const cardDeleteButtonClassName = (`element__trash-button ${isOwn ? 'element__trash-button_visible' : 'element__trash-button_hidden'}`); \r\n    const isLiked = props.likes.some(i => i._id === currentUser._id);\r\n    const cardLikeIconClassName = (`element__like-icon ${isLiked ? 'element__like-icon_active' : 'element__like-icon_hidden'}`);\r\n\r\n    return (\r\n        <li className=\"element\">\r\n            <div className=\"element__container\" >\r\n                <img src={props.link} alt={props.name} className=\"element__photo\" onClick={() => props.onCardClick(props)}/>\r\n            </div>\r\n            <button className={cardDeleteButtonClassName} onClick={() => props.onCardDelete(props)}></button>\r\n            <div className=\"element__info\">\r\n                <span className=\"element__title\">{props.name}</span>\r\n                <div className=\"element__like-button\" onClick={() => props.onCardLike({...props, currentUserId: currentUser._id})}>\r\n                    <button className={cardLikeIconClassName}></button>\r\n                    <span className=\"element__like-counter\">{props.likes.length}</span>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default Card;","\r\nimport React from 'react';\r\nimport Card from './Card';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction Main({onEditProfile, onAddCard, onEditAvatar, onCardClick,  cards}) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    return (\r\n    <main className=\"content\">\r\n        <section className=\"profile\">\r\n            <div className=\"profile__profile-info\">\r\n                <a href='/#' className=\"profile__avatar-box\" onClick={onEditAvatar}>\r\n                    <img src={currentUser.avatar} alt=\"Аватарка чувака\" className=\"profile__avatar\"/>\r\n                </a>\r\n                <div className=\"profile__text\">\r\n                    <div className=\"profile__name\">\r\n                    <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n                    <button type=\"button\" className=\"profile__edit-button\" aria-label=\"Edit\" onClick={onEditProfile}/>\r\n                    </div>\r\n                <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n                </div>\r\n            </div>\r\n            <button type=\"button\" className=\"profile__add-button\" aria-label=\"Add\" onClick={onAddCard}/>\r\n        </section>\r\n\r\n        <section className=\"elements\">\r\n        <ul className=\"elements__list\">\r\n            {cards.map((item) => {\r\n                return (<Card  key={item._id} props={item}/>)\r\n                })\r\n            }\r\n        </ul>\r\n        </section>\r\n    </main>\r\n    );\r\n}\r\n\r\nexport default Main;\r\n","\r\nfunction Footer() {\r\n    return (\r\n    <footer className=\"footer\">\r\n        <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\r\n    </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","export default __webpack_public_path__ + \"static/media/close-button.b76af81b.svg\";","function Button({formName, btnName}) {\r\n    return  <button className={`popup__save-button popup__save-button_${formName}`}>{btnName}</button>\r\n}\r\n\r\nexport default Button;","import closeButton from '../images/close-button.svg';\r\nimport Button from './Button';\r\n\r\nfunction PopupWithForm(props) {\r\n    return (\r\n        <section className={`popup popup_${props.name} ${props.isOpen && 'popup_opened'}`}>\r\n            <div className=\"popup__container\">\r\n                <button className=\"popup__close-button\" onClick={props.onClose}><img src={closeButton} alt=\"Закрывающая кнопка\" /></button>\r\n                <h3 className=\"popup__title\">{props.title}</h3>\r\n                <form className='popup__form' onSubmit={props.onSubmit}>\r\n                    {props.children}\r\n                    <Button formName={props.formName} btnName={props.btnName}></Button>\r\n                </form>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default PopupWithForm;","import closeButton from '../images/close-button.svg';\r\n\r\nfunction ImagePopup(props) {\r\n\r\n    return (\r\n        <section className={`popup popup_img ${props.isOpen && 'popup_opened'}`}>\r\n            <div className=\"popup__container popup__container_img\">\r\n                <div className=\"popup__img\">\r\n                    <button className=\"popup__close-button popup__close-button_img\" onClick={props.onClose}><img src={closeButton} alt=\"Закрывающая кнопка\" /></button>\r\n                    <img src={props.props.link} alt={props.props.name} className=\"popup__pic\" />\r\n                </div>\r\n                <span className=\"popup__text\">{props.props.name}</span>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default ImagePopup;","function Input({ \r\n    type, \r\n    name, \r\n    count, \r\n    placeholder, \r\n    minLength, \r\n    maxLength, \r\n    onChange, \r\n    value}) \r\n    {\r\n        return <input \r\n        type={type} \r\n        className={`popup__input popup__input_${name}`} \r\n        id={`popup__input_${name}_${count}`} \r\n        onChange={onChange} \r\n        placeholder={placeholder} \r\n        minLength={minLength} \r\n        maxLength={maxLength} \r\n        required \r\n        value={value}/>;\r\n    }\r\n\r\nexport default Input;","function Span({ name, count }) {\r\n    return <span className=\"popup__error\" id={`popup__input_${name}_${count}-error`} />;\r\n}\r\n\r\nexport default Span;","import PopupWithForm from './PopupWithForm';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\nimport React from 'react';\r\nimport Input from './Input';\r\nimport Span from './Span';\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const [name, setName] = React.useState(currentUser.name);\r\n    const [description, setDescription] = React.useState(currentUser.about);\r\n\r\n    function handleChangeName(event) {\r\n        setName(event.target.value);\r\n    }\r\n\r\n    function handleChangeDescription(event) {\r\n        setDescription(event.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateUser({\r\n            name: name,\r\n            about: description,\r\n        });\r\n    } \r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser]); \r\n\r\n    return (\r\n        <PopupWithForm title='Редактировать' name='edit' isOpen={props.isOpen} onClose={props.onClose} formName='edit' btnName=\"Ок, я понял :з\" onSubmit={handleSubmit}>\r\n            <label className=\"popup__label\">\r\n                <Input type='text' name='name' count='2' placeholder='Ты кто такой?' minLength='2' maxLength='30' onChange={handleChangeName} value={name || ''}/>\r\n                <Span name='name' count='2'/>\r\n            </label>\r\n            <label className=\"popup__label\">\r\n                <Input type='text' name='info' count='2' placeholder='Че кого, су***ы?' minLength='2' maxLength='300' onChange={handleChangeDescription} value={description || ''}/>\r\n                <Span name='info' count='2'/>\r\n            </label>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditProfilePopup;","import PopupWithForm from './PopupWithForm';\r\nimport React from 'react';\r\nimport Span from './Span';\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n    const inputAvatar = React.useRef(null);\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateAvatar(inputAvatar.current.value);\r\n        inputAvatar.current.value = '';\r\n    } \r\n\r\n    return (\r\n\r\n        <PopupWithForm title='Обновить аватар' name='avatar' isOpen={props.isOpen} onClose={props.onClose} formName='avatar' btnName=\"Сменить фотокарточку\" onSubmit={handleSubmit}>\r\n            <label className=\"popup__label\">\r\n                <input type='url' className='popup__input popup__input_avatar' name='info' count='1' placeholder='Че снова выпендриваешься с аффками?' ref={inputAvatar} src={props.link} />\r\n                <Span name='info' count='1'/>\r\n            </label>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditAvatarPopup;","import PopupWithForm from './PopupWithForm';\r\nimport React from 'react';\r\nimport Input from './Input';\r\nimport Span from './Span';\r\n\r\nfunction AddPlacePopup(props) {\r\n    const [name, setName] = React.useState('');\r\n    const [link, setLink] = React.useState('');\r\n\r\n    function onNameInput ({target: {value}}) {\r\n        setName(value)\r\n    }\r\n\r\n    function onLinkInput ({target: {value}}) {\r\n        setLink(value)\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onAddPlace({\r\n            name,\r\n            link\r\n        });\r\n    } \r\n\r\n    return (\r\n    <PopupWithForm title='Добавить карточку' name=\"add\" isOpen={props.isOpen} onClose={props.onClose} formName='add' btnName=\"Погнали!\" onSubmit={handleSubmit}>\r\n        <label className=\"popup__label\">\r\n            <Input type='text' name='name' count='1' placeholder='Че за проект?' minLength='2' maxLength='30' onChange={onNameInput} value={name}/>\r\n            <Span name='name' count='1'/>\r\n        </label>\r\n        <label className=\"popup__label\">\r\n            <Input type='url' name='info' count='1' placeholder='Ссылочку подкинь, бро!' onChange={onLinkInput} value={link}/>\r\n            <Span name='info' count='1'/>\r\n        </label>\r\n    </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;","class Api {\r\n    constructor({ url, headers }) {\r\n        this.url = url;\r\n        this.headers = headers;\r\n    }\r\n\r\n    getReply(result) {\r\n\r\n        if (!result.ok) {\r\n            return Promise.reject('Server error');\r\n        }\r\n        return result.json();\r\n    }\r\n\r\n\r\n    getPersonalInfo() {\r\n        return fetch(`${this.url}/users/me`, {\r\n            headers: this.headers\r\n        }).then(this.getReply)\r\n    }\r\n    getInitialCards(){\r\n        return fetch(`${this.url}/cards`, {\r\n            headers: this.headers\r\n        }).then(this.getReply)\r\n    }\r\n\r\n    createCard({name, link}) {\r\n        return fetch(`${this.url}/cards`, {\r\n            method: \"POST\",\r\n            headers: this.headers,\r\n            body: JSON.stringify({name, link})\r\n        }).then(this.getReply)\r\n    }\r\n\r\n    deleteCard({name, id}) {\r\n        return fetch(`${this.url}/cards/${id}`, {\r\n            method: \"DELETE\",\r\n            headers: this.headers,\r\n            body: JSON.stringify({name})\r\n        }).then(this.getReply)\r\n    }\r\n\r\n    setPersonalInfo({name, about}) {\r\n        return fetch(`${this.url}/users/me`, {\r\n            method: \"PATCH\",\r\n            headers: this.headers,\r\n            body: JSON.stringify({name, about})\r\n        }).then(this.getReply)\r\n    }\r\n\r\n    setAvatarInfo(link){\r\n        return fetch(`${this.url}/users/me/avatar`, {\r\n            method: \"PATCH\",\r\n            headers: this.headers,\r\n            body: JSON.stringify(link)\r\n        }).then(this.getReply)\r\n    }\r\n\r\n    checkLikes(cardId, like) {\r\n        return fetch(`${this.url}/cards/likes/${cardId}`, {\r\n            method: like ? \"PUT\" : \"DELETE\",\r\n            headers: this.headers\r\n        })\r\n            .then(this.getReply)\r\n    }\r\n}\r\n\r\nconst config = {\r\n    url: \"https://mesto.nomoreparties.co/v1/cohort-17\",\r\n    headers: {\"Content-Type\" : \"application/json\",\r\n    authorization: 'd4a20ab5-6a24-4061-8e1d-6f5e8bc9d229'}\r\n};\r\n\r\nconst api = new Api(config);\r\n\r\nexport default api;","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport api from '../utils/api';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\n\n\nfunction App() {\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen ] = React.useState(false);\n  const [isAddCardPopupOpen, setIsAddCardPopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [isSelectedCardOpen, setSelectedCardOpen] = React.useState(false);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    api.getPersonalInfo()\n        .then((res) => {\n          setCurrentUser(res);\n        })\n        .catch(err => alert(err)); \n  }, []);\n\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\n  }\n\n  function handleAddCardClick() {\n    setIsAddCardPopupOpen(!isAddCardPopupOpen);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function handleSelectedCardClick() {\n    setSelectedCardOpen(!isSelectedCardOpen);\n  }\n\n  function closeAllPopup() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddCardPopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard({});\n    setSelectedCardOpen(false);\n  }\n\n  function mapCards(item) {\n    return {\n        name: item.name,\n        link: item.link,\n        onCardClick: handleCardClick,\n        onCardLike: handleCardLike,\n        _id: item._id,\n        onCardOpen: handleSelectedCardClick,\n        owner: item.owner,\n        likes: item.likes,\n        onCardDelete: handleCardDelete\n    }\n  } \n\n  function handleAddPlace(card) {\n    api.createCard(card)\n    .then((newCard) => {\n        setCards([newCard, ...cards].map(mapCards)); \n        closeAllPopup();\n    });\n  }\n\n  function handleUpdateUser(data) {\n    api.setPersonalInfo(data)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopup();\n      })\n        .catch(err => alert(err)); \n  }\n\n  function handleUpdateAvatar(avatar) {\n    api.setAvatarInfo({avatar})\n    .then((res) => {\n      setCurrentUser(res);\n        closeAllPopup();\n    })\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === card.currentUserId);\n    api.checkLikes(card._id, !isLiked)\n    .then(() => {\n      api.getInitialCards()\n      .then((res) => {\n          const cards = res.map(mapCards);\n          setCards(cards);\n      })\n    });\n} \n\n// function handleCardDelete({name, _id: id}) {\n//     api.deleteCard({name, id})\n//     .then(() => {\n//       api.getInitialCards()\n//       .then((res) => {\n//           const cards = res.map(mapCards);\n//           setCards(cards);\n//       })\n//     });\n// }\n\n  function handleCardDelete({name, _id: id}) {\n    api.deleteCard({name, id})\n    .then(() => {\n      const newCards = cards.filter((c) => c._id !== id);\n      setCards(newCards);\n    });\n  } \n\n  React.useEffect(() => {\n    api.getInitialCards()\n    .then((res) => {\n        const cards = res.map(mapCards);\n        setCards(cards);\n    })\n    .catch(err => alert(err)); \n    // eslint-disable-next-line\n},[]);\n\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div>\n        <Header />\n        <Main cards={cards} onEditProfile={handleEditProfileClick} onAddCard={handleAddCardClick} onEditAvatar={handleEditAvatarClick} onCardClick={handleCardClick} isOpen={handleSelectedCardClick}/>\n        \n          <AddPlacePopup isOpen={isAddCardPopupOpen} onClose={closeAllPopup} onAddPlace={handleAddPlace}/> \n          <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopup} onUpdateUser={handleUpdateUser}/> \n          <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopup} onUpdateAvatar={handleUpdateAvatar}/>\n\n          <PopupWithForm title='Ты бессердечный! Точно удаляем?' name='confirm' formname='confirm' btnname=\"Дэээ\">\n          </PopupWithForm>\n\n          <ImagePopup isOpen={Object.keys(selectedCard).length} props={selectedCard} onClose={closeAllPopup}></ImagePopup> \n        <Footer />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from '../src/components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}